{"version":3,"file":"static/webpack/static/development/pages/index.js.a395806396782b1ebc03.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Link from 'next/link';\nimport { useState } from 'react';\n\nimport Layout from '../components/Layout';\nimport foods from '../resources/data/foods';\nimport FoodItem from '../components/FoodItem/FoodItem';\nimport SearchForm from '../components/SearchForm/SearchForm';\n\nexport default function Index({ foods }) {\n  const [searchInput, setSearchInput] = useState('');\n  const [foodList, setFoodList] = useState(foods);\n\n  const findMatches = (wordToMatch, itemList) => {\n    // @TODO: remove symbols since it breaks the search\n    return itemList.filter((item) => {\n      const regex = new RegExp(wordToMatch, 'gi');\n\n      return item.name.match(regex) || item.category.match(regex);\n    });\n  };\n\n  const handleOnChange = (event) => {\n    const matches = findMatches(event.target.value, foods);\n\n    setSearchInput(event.target.value);\n\n    setFoodList(matches);\n  };\n\n  const handleOnSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  return (\n    <Layout page='home'>\n      <main>\n        <SearchForm\n          inputText={searchInput}\n          onChange={handleOnChange}\n          onSubmit={handleOnSubmit}\n        />\n\n        <div className='px-4 py-8'>\n          {foodList ? (\n            <ul className='max-w-screen-sm mx-auto'>\n              {foodList.map((food, index) => (\n                <li key={index} className='mb-4'>\n                  <FoodItem food={food} />\n                </li>\n              ))}\n            </ul>\n          ) : null}\n        </div>\n      </main>\n    </Layout>\n  );\n}\n\nexport async function getStaticProps() {\n  return {\n    props: {\n      foods,\n    },\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AACA;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAWA;;;;A","sourceRoot":""}